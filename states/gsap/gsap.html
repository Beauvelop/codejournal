<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=desert"></script>
<div class="gsap-container">
  <aside><span class="rot90">{{state}}</span></aside>
  <div class="gsap-entry entry">
    <pre>
<!--entire page pre-->
<div class="forest-red-fr dk-frame"><h3 class="chtitle pastY">GSAP: Start/End Code (on Buttons.click(<code class="coral">~function~</code>))<br />Plus:<code>onComplete</code>feature of GSAP</h3>
<h3 class="chtitle"><code>play();</code>works in tandem with <code>{..., pause:true}</code></h3>
<div class="col-2">
var definitions and code.
<pre class="prettyprint w40">
  var beachBall = $('.beachBall');
  var playBtn = $('#play');
  var returnBtn = $('#return');
  const tm = TweenMax;

  var Anim = tm.to(beachBall, 2, { x: 500, y: 225, rotation: 90, alpha: 0.5, paused: true });
  var Init = tm.to(beachBall, 2, { x: 0, y: 0, rotation: 0, alpha: 1, paused: true });
  </pre>
Then, the function definitions.
<pre class="prettyprint w40">
  playBtn.click(function() {
    Anim.play();
  });

  returnBtn.click(function() {
    Init.play();
  });
</div>
<h3 class="chtitle ltgrey"><code>onComplete</code>VS<code>onCompleteParams</code></h3>
<div class="shadn ctr w60"><code class="wh">onComplete:<span class="ltblue">FunkName</span></code><i class="orange">function call</i>
<code class="wh">onCompleteParams:<span class="ltblue">Funk Params</span></code>REMEMBER: It's plural! --<i class="orange">expects an array.</i>
</div>
<pre class="prettyprint w50 ctr">
  var Anim = tm.to(thing, 2, {
    x: 500,
    y: 225,
    rotation: 90,
    alpha: 0.5,
    paused: true,
    onComplete: Init,
    onCompleteParams: [thing]
  });
  function Init(obj) {
    tm.to(obj, 2, { x: 0, y: 0, rotation: 0, alpha: 1, paused: false });
  }
  playBtn.click(function() {
    Anim.play();
  });
</pre>
</div>
<hr>
<div class="brdr-w grey-bg">
  <h2 class="chtitle">Animating html boxes vs. svg boxes with GSAP</h2>
    <div class="fRight intrinsic-ratio-wrapper w40">
      <video  class="intrinsic-ratio-child" controls>
        <source src="./img/boxes.mp4" type="video/mp4">
      </video>
    </div>
<h3 class="sand">A step-by-step guide with code</h3>

tl = new TimelineMax({paused:true});

tl
 <h5 class="orange">step 1</h5>.to(boxHTML, 1, {x:'100%', y:'100%', ease:Power1.easeInOut})
 <h5 class="orange">step 2</h5>.to(boxSVG, 1, {x:'100%', y:'100%', ease:Power1.easeInOut})
 <h5 class="orange">step 3</h5>.to(boxHTML, 1, {left:'50%', top:'50%', ease:Power1.easeInOut})
 <h5 class="orange">step 4</h5>.to(boxSVG, 1, {left:'50%', top:'50%', ease:Power1.easeInOut})
 <h5 class="orange">step 5</h5>.to(boxHTML, 1, {left:'50%', top:'50%', x:'-50%', y:'-50%', ease:Power1.easeInOut})
 <h5 class="orange">step 6</h5>.to(htmlDOT, 1, {left: 0, top: 0, ease:Power1.easeInOut})
 <h5 class="orange">step 7</h5>.to(boxSVG, 1, {left:'50%', top:'50%', x:'-50%', y:'-50%', ease:Power1.easeInOut})
 <h5 class="orange">step 8</h5>.to(svgDot, 1, {attr:{cx: 0, cy: 0}, ease:Power1.easeInOut})
 <h5 class="orange">step 9</h5>.to(boxHTML, 1, {rotation: 90, transformOrigin: '100% 100%', ease:Power1.easeInOut})
 <h5 class="orange">step 10</h5>.to(boxSVG, 1, { rotation: 90, transformOrigin: '100% 100%',ease:Power1.easeInOut})
 <h5 class="orange">step 11</h5>.to(boxHTML, 1, {xPercent: -100, rotation: 0, ease:Power1.easeInOut})
 <h5 class="orange">step 12</h5>.to(boxSVG, 1, {xPercent: 0, rotation: 0, ease:Power1.easeInOut})
 <h5 class="orange">step 13</h5>.to(htmlDOT, 1, {left: '50%', top: '50%', ease:Power1.easeInOut})
 <h5 class="orange">step 14</h5>.to(svgDot, 1, {attr:{cx: 100, cy: 100}, ease:Power1.easeInOut})
 <h5 class="orange">step 15</h5>.to([boxSVG, boxHTML], 1, {rotation: 720, transformOrigin: '50% 50%', ease:Power1.easeInOut})
 <h5 class="orange">step 16</h5>.to(boxHTML, 1, {rotationX: -180, transformOrigin: '0% 50%', ease:Power1.easeInOut})
 <h5 class="orange">step 17</h5>.to(boxSVG, 1, {rotationY: -180, transformOrigin: '100% 50%', ease:Power1.easeInOut})
 <h5 class="orange">step 18</h5>.to(boxHTML, 1, {rotationX: -360, transformOrigin: '0% 50%', ease:Power1.easeInOut})
 <h5 class="orange">step 19</h5>.to(boxSVG, 1, {rotationY: -360, transformOrigin: '100% 50%', ease:Power1.easeInOut})

 <div class="ctr w30 coral">
 <h4>This entire thing is wrapped in a <br>div class="perspective"</h4>
 <pre class="prettyprint w20">.perspective {
   position: absolute;
   perspective: 600px;
   height: 100%;
   width: 100%; }
 </pre>
</div>



</div>
<hr>
<div class="slate-skyblue-fr"><h3>A loader animation with GSAP</h3>
  <div class="ctr intrinsic-ratio-wrapper w20">
    <video  class="intrinsic-ratio-child" width="314" height="220" controls>
      <source src="./img/loader.mov" type="video/mp4">
    </video>
  </div>
First we need a bit of html <b class="paleY">at the top of <span><</span>body></b>
<div class="col-2 brdr-w"><pre class="dkbg w30">
< div id="loader">

  < div class="dot">< / div>

  < div class="dot">< / div>

  < div class="dot">< / div>

  < div class="dot">< / div>

  < div class="dot">< / div>

  < div class="dot">< / div>

< / div>
</pre>
<pre class="dkbg w30">
#loader{
  <span class="paleY">position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);</span>

}
.dot {
    width: 12px;
    height: 12px;
    display: inline-block;
    border-radius: 100%;
    margin-right: 6px;
    border: 2px solid teal;
}
</pre>
</div>

TimelineMax is required to configure the number of repeats of the a given timeline.

The object passed in the <code>new TimelineMax()</code> method can also have a "onComplete" property
<pre class="prettyprint w50">
tlLoader = new TimelineMax({ repeat: 3, onComplete:onComplete })</pre>

So far, here's the loader set up:
<div class="ctr"><pre class="prettyprint w50">// ========LOADER TIMELINE======================
var tlLoader = new TimelineMax({ repeat: 3, onComplete:onComplete })
function onComplete() {
  console.log("Release the content!");
}</pre>

<h3 class="sand">With all other tl = <b class="ltgreen">new</b>... statements containing "{paused: true}"--The page is, now, blank except for the loader.</h3>

(at this point, we may have trouble with content loading in browser, so "opacity: 0;" for the content container will help);


<h3 class="paleY">Refactored Loader Timeline</h3>
<pre class="prettyprint w50">// ========LOADER TIMELINE======================
var tlLoader = new TimelineMax({ repeat: 3, onComplete:onComplete })
tlLoader
  .staggerFromTo(dot, 0.3,
    {y:0, ease:Power4.easeIn, autoAlpha: 0},
    {y:-20, ease:Back.easeInOut, autoAlpha: 1},
     0.05)
  .fromTo(loader, 0.3,
    {autoAlpha:1, scale: 1.2},
  {y:-20, ease:Back.easeNone, autoAlpha: 1}, 0.9)
function onComplete() {
  console.log("Release the content!");
}</pre>

We set the 'repeat: num' to whatever we want and change the onComplete to something like: "onComplete:<code class="wh">loadContent</code>"...
<pre class="dkbg w40 sm">
<span class="ltgrey">// ========LOADER TIMELINE======================</span>
var tlLoader = new TimelineMax({ <span class="pastBlue">repeat: 1, onComplete:<b class="paleY">loadContent</b> </span>})
tlLoader
  .staggerFromTo(dot, 0.3,
    {y:0, ease:Power4.easeIn, autoAlpha: 0},
    {y:-20, ease:Back.easeInOut, autoAlpha: 1},
     0.05)
  .fromTo(loader, 0.3,
    {autoAlpha:1, scale: 1.2},
  {y:-20, ease:Back.easeNone, autoAlpha: 1}, 0.9)
</pre>

<pre class="prettyprint linenums w50">
function loadContent() { //vanish the loader
  var tlLoaderOut = new TimelineLite({onComplete:contentIn});

  tlLoaderOut
    .set(dot, {marginRight: 20, backgroundColor: '#ad481d'})
    .staggerFromTo(dot, 1,
      {autoAlpha: 0},
      {autoAlpha: 1, scale:2, ease:Back.easeInOut}, 0.2)
    .staggerTo(dot, 0.5, {autoAlpha: 0, y: -200, ease:Power4.easeIn}, '0.1')
}
</pre>
<h5 class="wh">05: declares css style rules</h5>
<h5 class="wh">06: stagger 'dot' ensures separate animations</h5>
<h5 class="wh">07: fade from 0 </h5>
<h5 class="wh">08: this ease 'overshoots' a bit then arrives at given value. scale * 2. 200ms of separation</h5>
<h5 class="wh">09: final tween that shoots them up like balloons. '0.1' string indicates relative (timeline) pos.</h5>
refactored loader
<div class="ctr intrinsic-ratio-wrapper w20">
  <video  class="intrinsic-ratio-child" width="314" height="220" controls>
    <source src="./img/loadRefactor.mov" type="video/mp4">
  </video>
</div>
<h3 class="sand"><h3 class="ltred">Important Note:</h3> In order to prevent "flicker" set loader (container) to <code>opacity: 0;</code> as a default. This acts much in the same way as 'ng-cloak' in Angularjs</h3>
</div>
</div>
<div class="lt-frame"><h3 class="chtitle dkblue">GSAP's Stagger Methods</h3>
The Problem: I have all these individual elements (btns) that I want to stagger into frame.
I have to code their tweens individually...<pre class="prettyprint w40">var tl2 = new TimelineMax();
tl2
  .from(play, 1, {y: -60, ease: Power4.easeIn}, 1)
  .from(pause, 1, {y: -60, ease: Power4.easeIn}, '-=.2')
  .from(resume, 1, {y: -60, ease: Power4.easeIn}, '-=.2');</pre>This is both messy and inefficient.

The Solution: GSAP's stagger method or "stagger tween".<pre class="prettyprint w50">  var tl2 = new TimelineMax();
  var button = $('button');
  tl2.staggerFrom(button, .5, {y: -100, ease:Power4.easeOut}, 0.1);</pre>
💥Boom! --3 lines of code.
<h4 class="paleY">Of course, there's also <code class="wh">.staggerTo</code> and <code class="wh">.staggerFromTo</code> which requires two abscissa objects</h4>
<pre class="dkbg w20"><code class="sm paleY">
tl2.<span class="ltgreen">staggerFromTo</span>(button, .5,
      {autoAlpha: 0,
               y: -100,
            ease:Power4.easeOut
      },
      {autoAlpha: 1,
               y:600
      }, 0.1);</code></pre>
<h3 class="dkred">(In fact, <code>autoAlpha 0</code> is superfluous, here. So let's refactor.)</h3>
Or, simply...

<code class="ctr dkred ltbg3">tl2.staggerFromTo(button, .5, {y: -100, ease:Power4.easeOut}, {autoAlpha: 1, y:600}, 0.1);</code><br>
<h2 class="navy">Stagger: 'Cycle':</h2>(Returning to staggerFrom...)

GSAP's powerful "cycle" property will take an attribute--give it two values and distribute it to alternating tweens.
<pre class="prettyprint w80">  tl2.staggerFrom(button, 5, { cycle:{x:[-100, 500, 1800]}, ease:Power4.easeOut}, {autoAlpha: 1, y:600}, 0.1);</pre>
Here we will have buttons appear from 3 different directions.

<h3 class="dkorange">One more cool example:</h3>
We can even cycle through multiple properties. Here, we'll do scale and x
<pre class="dkbg ctrtxt w80">tl2.staggerFrom(button, 5, { <b class="ltgreen">cycle:{x:[-100, 500]</b>, <b class="ltblue">scale: [2, 0.5] </b>}, ease:Power4.easeOut}, {autoAlpha: 1, y:600}, 0.1);</pre>
So, twice the size and half the size (is the style rules that they 'come from'). They then arrive at a uniform height and position.
</div>
<div class="forest-red-fr"><h3>Useful methods to control events in a timeline</h3>
In <a href="https://codepen.io/beau_dev/pen/dRYJjm?editors=0010">This Pen</a>, You'll find the following Fn calls placed inside various click events.


<div class="col-2"><pre class="w40 brdr-dk">tl.play();
tl.pause();<b class="ltred med">*</b>
tl.play(0).pause();
tl.resume();
tl.reverse();
tl.timeScale(6);
tl.timeScale(1 / 2);
tl.play(3);
tl.play("aftertwo");
</pre>
<pre class="w40 brdr-dk pastY">--run timeline
--stop timeline midstream
--reset to start
--resume timeline
--reverse mid-stream
--speed up by a multiple
--will slow down (if divisor) --will reverse if neg. (or decimal < 1)
--plays sending a second mark as an arg
--plays sending a named var (a 'label') as an arg</pre>
</div>

For example on the 'reverse' button... <pre class="prettyprint w40">reverse.on("click", function() {
    tl.reverse();
  });</pre>

<b class="ltred med">*</b> Another way to pause a timeline is with (<span>Be sure to type 'pause<b class="ltred">d</b>'</span>)
<pre class="prettyprint w20">tl = new TimelineLite({paused: true})</pre>

<h3 class="ltblue">☯️How to repeat timelines infinitely!☯️</h3>
ltLoader = new TimelineMax({repeat: -1});
<h5 class="wh">TimelineMax is required for repeating and is perfect for loaders</h5>
TimelineMax enables the repeat object in order to set the amount of repeats. (-1) is the value for infinite repeat.

</div>
<hr>
<div class="forest-red-fr dk-frame"><h3 class="chtitle pastY">GSAP Callbacks are very simple</h3>
Inside of the tween's object place a key:value pair. Key is the Fn name, Value is the arg.
<div class="col-2">
Comma separated key:values are permissable as well.
<pre class="prettyprint w40">
...
.to(eight, 2, { y: 262, x: 850, ease: Power1.easeOut, onStart:poop }, "-=0.5")
...</pre>
Then, the function definition below...
<pre class="prettyprint w40">
function poop() {
  console.log("Eight has started!");
}
//"poop", of course, is an arbitrary value name. :)</pre>
</div>

<pre class="w50">GSAP callbacks give you 3 choices:

{ ... , onStart:<em class="ltblue">funkName</em> }<br>
<code>function <span class="ltblue">funkName</span>() { console.log("Started!")}</code>

{ ... , onUpdate:<em class="sand">funkName</em> }<br>
<code>function <span class="sand">funkName</span>() { console.log("We're running!")}</code>

{ ... , onComplete:<em class="ltred">funkName</em> }<br>
<code>function <span class="ltred">funkName</span>() { console.log("Done!")}</code></pre>
</div>

<h1 class="chtitle dkblue">First, The Set-Up...</h1>
<div class="ctr shadn brdr-w ltbg ivr w50 sm">
<span><</span>script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"><span></</span>script>

<span><</span>script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"><span></</span>script>

</div><br>
A simple example...
<div class="col-2"><pre class="prettyprint w40">
(function($) {

  var header = $('header');
  TweenMax.from(header, 2, {autoAlpha: 0, y: -300});
  // this line is referred to as a 'tween'

}(jQuery))</pre>
<pre class="w40">
JQ

selector on a var
method on <code><i class="ltgreen">TMax</i>(<i class="orange">selector</i>,<i class="sand">duration</i>, <i class="paleY">Object & attrs</i> )</code>


</pre>
</div><hr>
<h1 class="chtitle">Anatomy of a Greensock ease:</h1>
<h2 class="chtitle pastpink">TweenLite.from(img, 1, {x: -200, <b class="paleY">ease</b>:<span class="ltgreen">Power4</span><b class="dkred">.easeOut</b>});</h2>
<div class="col-3 dk-frame">
  <pre><b class="fuch">I.</b>

POWER refers to duration
and goes from Power0 ~ Power4


  </pre>
<pre>

<b class="fuch">II.</b>
easeNone
easeIn
easeOut
easeInOut
Back.easeOut
Bounce.easeOut
Circ.easeOut
Elastic.easeOut
Expo.easeOut
Sine.easeOut</pre>
  <pre><b class="fuch">III.</b>
The following three are tricky.

RoughEase
Slomo
SteppedEase

These can be tinkered with easily @
<a href="https://greensock.com/ease-visualizer" target="_blank">Greensock's ease visualizer</a>
</pre>
</div>
💡NOTA BENE: roughEase would be great to animate a flourescent light cutting out and blinking back on!

<hr>
<h1 class="chtitle">Methods of Greensock:</h1>
<h2 class="chtitle pastpink">TweenMax<span class="pastY">.from</span>(header, 3, {autoAlpha: 0, x: 200, ease:Elastic.easeIn});</h2>
<div class="framed6">
<div class="col-2 simple-frame2 w60 ctr"><pre class="paleY">.to()
.from()
.set()
.fromTo()
autoAlpha
</pre>
<pre class="wh">
specifies end point
specifies start point
exactly like .css()<em> no animation</em>
reqires 2 values for start & end
opacity
</pre>
</div>
<b class="purp">.fromTo()</b><pre class="prettyprint w20">
tm.fromTo(img, 3,
 { x: 200, y: -300 },
 { x: -200, y: 500 });
</pre>
<b class="purp">.set()</b><pre class="prettyprint w30">
// Remove timing val
tm.set(img,{ x: 200, y: -300 });
</pre>
the <span class="paleY">delays</span> here render this in succession
<div class="plain-frame0 ctr w30">  tm.from(h1, 3, { x: 200, y: -300 });
  tm.from(h3, 1, { x:-500, <span class="paleY">delay</span>: 4 });
  tm.from(h2, 1, { x:-500, <span class="paleY">delay</span>: 3 });
</div>

</div>
<hr>
<h1 class="chtitle">Configuring timeline events with precision</h1>
<div class="brdr-w shadn">

<h4 class="med">We alter the delay to have them overlap
Here, each subsequent animation starts <i class="navy">'0.5' seconds</i> before the previous one ends</h4>
<pre class="ctr dkbg w60">tl.from(h1, 1, {y: -15}, <i class="ltblue">'-=0.5'</i> )
                            .from(h2, 1, {y: -15}, <i class="ltblue">'-=0.5'</i> )
                            .from(h3, 1, {y: -15}, <i class="ltblue">'-=0.5'</i> )
                            .from(h4, 1, {y: -15}, <i class="ltblue">'-=0.5'</i> )
                            .from(h5, 1, {y: -15}, <i class="ltblue">'-=0.5'</i> );
</pre>
<h2><b class="wh med">Absolute Positioning</b> of timelines is easy to understand:</h2>
<p>REGARDLESS of other events, I want my h4 to run at 4 seconds. The rest can fire off as they like.</p>
<pre class="prettyprint dkbg w40 linenums">
var animation = new TimelineLite();

animation.from(img, 3, {y: -15} )
         .from(h2, 3, {y: -15}, '-=2' )
         .from(span, 3, {y: -15}, '+=4' )
         .from(h4, 3, {y: -15}, 4 );
</pre>
The span will fire AFTER the Abs-positioned h4.

<h2 class="ctr wh">Labeling of delays</h2>

<h3>This simply shows that labeling another animation (bottom) and then inserting with <em>.add()</em> will control where it fires in the timeline.</h3>
<div class="col-2">
<pre class="dkbg w40">
animation.from(span, 2, {y: -15, autoAlpha: 0} )
   <span class="ltgreen">.add(poop)</span>
   .from(h2, 2, {y: -15, autoAlpha: 0} )
   .from(h4, 2, {y: -15, autoAlpha: 0} )
   .from(img, 2, {y: -15, autoAlpha: 0}, '<span class="ltgreen">poop</span>' );

</pre>

<pre class="w40 shadn">
<h3 class="sand">Here, 'img' will fire immediately after 'span'.

.add() acts as an alias of that bottom animation
'<span class="ltgreen">poop</span>', of course, is an arbitrary 'var' name</h3></pre>

</div>
<br>
<h3 class="orange">Infact, we can label any one of them and even modify them with an expression individually in quotes</h3>
<pre class="ctr dkbg w40">
animation.from(<span class="wh">span</span>, 2, {y: -15, autoAlpha: 0} )
   <span class="wh">.add(span)</span>
   .from(h2, 2, {y: -15, autoAlpha: 0}, <span class="wh">'span'</span> )
   .from(h4, 2, {y: -15, autoAlpha: 0}, <span class="orange">'span+=2'</span> )
   .from(img, 2, {y: -15, autoAlpha: 0}, <span class="wh">'span'</span> );
</pre>

</div>







</pre>
<!--entire page pre-->
</div>


</div>
